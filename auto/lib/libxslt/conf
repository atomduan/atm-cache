atm_feature="libxslt"
atm_feature_name=
atm_feature_run=no
atm_feature_incs="#include <libxml/parser.h>
                  #include <libxml/tree.h>
                  #include <libxslt/xslt.h>
                  #include <libxslt/xsltInternals.h>
                  #include <libxslt/transform.h>
                  #include <libxslt/xsltutils.h>"
atm_feature_path="/usr/include/libxml2"
atm_feature_libs="-lxml2 -lxslt"
atm_feature_test="xmlParserCtxtPtr    ctxt = NULL;
                  xsltStylesheetPtr   sheet = NULL;
                  xmlDocPtr           doc;
                  doc = xmlParseChunk(ctxt, NULL, 0, 0);
                  xsltApplyStylesheet(sheet, doc, NULL);"
. auto/feature


if [ $atm_found = no ]; then

    # FreeBSD port

    atm_feature="libxslt in /usr/local/"
    atm_feature_path="/usr/local/include/libxml2 /usr/local/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/usr/local/lib -L/usr/local/lib -lxml2 -lxslt"
    else
        atm_feature_libs="-L/usr/local/lib -lxml2 -lxslt"
    fi

    . auto/feature
fi


if [ $atm_found = no ]; then

    # NetBSD port

    atm_feature="libxslt in /usr/pkg/"
    atm_feature_path="/usr/pkg/include/libxml2 /usr/pkg/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/usr/pkg/lib -L/usr/pkg/lib -lxml2 -lxslt"
    else
        atm_feature_libs="-L/usr/pkg/lib -lxml2 -lxslt"
    fi

    . auto/feature
fi


if [ $atm_found = no ]; then

    # MacPorts

    atm_feature="libxslt in /opt/local/"
    atm_feature_path="/opt/local/include/libxml2 /opt/local/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/opt/local/lib -L/opt/local/lib -lxml2 -lxslt"
    else
        atm_feature_libs="-L/opt/local/lib -lxml2 -lxslt"
    fi

    . auto/feature
fi


if [ $atm_found = yes ]; then

    CORE_INCS="$CORE_INCS $atm_feature_path"

    if [ $USE_LIBXSLT = YES ]; then
        CORE_LIBS="$CORE_LIBS $atm_feature_libs"
    fi

    ATM_LIB_LIBXSLT=$atm_feature_libs

else

cat << END

$0: error: the HTTP XSLT module requires the libxml2/libxslt
libraries. You can either do not enable the module or install the libraries.

END

    exit 1
fi


    atm_feature="libexslt"
    atm_feature_name=ATM_HAVE_EXSLT
    atm_feature_run=no
    atm_feature_incs="#include <libexslt/exslt.h>"
    atm_feature_path="/usr/include/libxml2"
    atm_feature_libs="-lexslt"
    atm_feature_test="exsltRegisterAll();"
    . auto/feature

if [ $atm_found = no ]; then

    # FreeBSD port

    atm_feature="libexslt in /usr/local/"
    atm_feature_path="/usr/local/include/libxml2 /usr/local/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/usr/local/lib -L/usr/local/lib -lexslt"
    else
        atm_feature_libs="-L/usr/local/lib -lexslt"
    fi

    . auto/feature
fi


if [ $atm_found = no ]; then

    # NetBSD port

    atm_feature="libexslt in /usr/pkg/"
    atm_feature_path="/usr/pkg/include/libxml2 /usr/local/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/usr/pkg/lib -L/usr/pkg/lib -lexslt"
    else
        atm_feature_libs="-L/usr/pkg/lib -lexslt"
    fi

    . auto/feature
fi


if [ $atm_found = no ]; then

    # MacPorts

    atm_feature="libexslt in /opt/local/"
    atm_feature_path="/opt/local/include/libxml2 /opt/local/include"

    if [ $ATM_RPATH = YES ]; then
        atm_feature_libs="-R/opt/local/lib -L/opt/local/lib -lexslt"
    else
        atm_feature_libs="-L/opt/local/lib -lexslt"
    fi

    . auto/feature
fi


if [ $atm_found = yes ]; then
    if [ $USE_LIBXSLT = YES ]; then
        CORE_LIBS="$CORE_LIBS -lexslt"
    fi

    ATM_LIB_LIBXSLT="$ATM_LIB_LIBXSLT -lexslt"
fi
